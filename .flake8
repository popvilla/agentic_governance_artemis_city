# ============================================
# ARTEMIS CITY - FLAKE8 CONFIGURATION
# ============================================
# Flake8: Python linting and style checking
# https://flake8.pycqa.org/

[flake8]

# ============================================
# GENERAL SETTINGS
# ============================================

# Maximum line length (compatible with Black)
max-line-length = 100

# Maximum complexity for functions (cyclomatic complexity)
max-complexity = 10

# ============================================
# FILE PATTERNS
# ============================================

# Files to exclude from linting
exclude =
    .git,
    __pycache__,
    .venv,
    venv,
    .eggs,
    *.egg,
    build,
    dist,
    .tox,
    .mypy_cache,
    .pytest_cache,
    node_modules,
    Artemis Agentic Memory Layer,
    **/migrations/,

# File patterns to include
filename = *.py

# ============================================
# ERROR CODES
# ============================================

# Errors to ignore
ignore =
    # E203: Whitespace before ':' (conflicts with Black)
    E203,
    # E501: Line too long (handled by max-line-length)
    E501,
    # W503: Line break before binary operator (PEP 8 updated to prefer this)
    W503,
    # E266: Too many leading '#' for block comment
    E266,
    # E731: Do not assign a lambda expression (sometimes necessary)
    E731,

# Errors to always check (even if ignored elsewhere)
select =
    # Pyflakes errors
    F,
    # PEP8 errors
    E,
    # PEP8 warnings
    W,
    # Complexity
    C90,

# ============================================
# PER-FILE IGNORES
# ============================================

per-file-ignores =
    # Allow unused imports in __init__.py files
    __init__.py:F401,F403
    # Allow imports not at top in some files
    interface/codex_cli.py:E402
    # Demo files can be more relaxed
    demo_*.py:E402,F401

# ============================================
# DOCSTRING SETTINGS
# ============================================

# Require docstrings (when using flake8-docstrings)
docstring-convention = google

# ============================================
# IMPORT SETTINGS
# ============================================

# Application import names (for import order checking)
application-import-names = agents,core,interface,memory,sandbox_city

# ============================================
# FORMATTING
# ============================================

# Output format
# Options: default, pylint, html
format = default

# Show source code for errors
show-source = true

# Show statistics at the end
statistics = true

# Count errors
count = true

# ============================================
# PLUGIN SETTINGS
# ============================================

# Flake8-bugbear: Additional bug and design problems
# Enabled if installed

# Flake8-comprehensions: Checks for unnecessary comprehensions
# Enabled if installed

# Flake8-simplify: Suggests code simplifications
# Enabled if installed
