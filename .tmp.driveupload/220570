// General File System Types
export interface File {
  name: string;
  content: string;
  path: string;
}

export interface Folder {
  name: string;
  path: string;
  children: (File | Folder)[];
}

// Source Control Types
export type ChangeType = 'added' | 'modified' | 'deleted' | 'renamed';

export interface Change {
  path: string;
  type: ChangeType;
}

export interface Commit {
  id: string;
  message: string;
  timestamp: string;
  files: Record<string, string>; // path -> content
}

// Chat Types
export enum MessageSender {
  USER = 'user',
  MODEL = 'model',
  SYSTEM = 'system',
}

export interface UrlContextMetadataItem {
  retrievedUrl: string;
  urlRetrievalStatus: string;
}

export interface ChatMessage {
  id: string;
  text: string;
  sender: MessageSender;
  isLoading?: boolean;
  urlContext?: UrlContextMetadataItem[];
}

// Knowledge Base Types
export interface URLGroup {
  id: string;
  name: string;
  urls: string[];
}

// Code Review Types
export interface Citation {
  uri: string;
  title: string;
}

export interface ReviewResult {
  text: string;
  correctedCode: string | null;
  citations: Citation[];
}

export interface HistoryItem {
    id: string;
    timestamp: string;
    language: string;
    code: string;
    context?: {
        files?: { name: string; content: string }[];
        urls?: string[];
        text?: string;
    };
    reviewResult: ReviewResult;
}

// Snippet Manager Types
export interface Snippet {
  id: string;
  name: string;
  language: string;
  code: string;
}